function _filterShader(e,t,r){t._filterTexture?(t._filterTexture.width!==t.width||t._filterTexture.height!==t.height)&&t._filterTexture.resizeCanvas(t.width,t.height):t._filterTexture=createGraphics(t.width,t.height,WEBGL);let i=t._filterTexture;i.shader(e),e.setUniform("filter_background",t),e.setUniform("filter_res",[t.width,t.height]),i.rect(0,0,i.width,i.height),r.push(),r.resetMatrix(),r.imageMode(CORNER);let h=0,f=0;r._renderer.isP3D&&(h=-t.width/2,f=-t.height/2),r.clear(),r.image(i,h,f,t.width,t.height),r.pop()}p5.prototype.filterShader=function(e){_filterShader(e,this._renderer,this)},p5.Graphics.prototype.filterShader=function(e){_filterShader(e,this,this)},p5.Image.prototype.filterShader=function(e){_filterShader(e,this,this)},p5.Renderer.prototype.filterShader=function(e){_filterShader(e,this,this)};
