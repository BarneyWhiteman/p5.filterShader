function _filterShader(e,t,r){t._filterTexture&&t._filterTexture.width===t.width&&t._filterTexture.height===t.height||(t._filterTexture=createGraphics(t.width,t.height,WEBGL));let i=t._filterTexture;i.shader(e),e.setUniform("filter_background",t),e.setUniform("filter_res",[t.width,t.height]),i.rect(0,0,i.width,i.height),r||(r=t.image),r(i,0,0,t.width,t.height)}p5.prototype.filterShader=function(e){_filterShader(e,this._renderer,image)},p5.Graphics.prototype.filterShader=function(e){_filterShader(e,this)},p5.Image.prototype.filterShader=function(e){_filterShader(e,this)},p5.Renderer.prototype.filterShader=function(e){_filterShader(e,this)};
